var Request=function(){this.init()};Request.prototype.request=null;Request.prototype.init=function(){this.request=typeof ActiveXObject=="undefined"?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")};Request.prototype.getSync=function(a){this.request.open("GET",a,false);this.request.send(null);return 4==this.request.readyState&&200==this.request.status?this.request.responseText:false}; Request.prototype.getAsync=function(a,d){this.request.open("GET",a,true);this.request.send(null);var f=this.request;this.request.onreadystatechange=function(){4==f.readyState&&200==f.status&&d(f.responseText)}};var LoaderStatus=function(a){this.callbacks=[];this.completed=0;this.addCallback(a)};LoaderStatus.prototype.callback=function(){n=this.callbacks.length;for(var a in this.callbacks){this.callbacks[a]();this.callbacks[a]=null}this.completed=1}; LoaderStatus.prototype.addCallback=function(a){if("function"==typeof a){n=this.callbacks.length;this.callbacks[n]=a}};LoaderStatus.prototype.runFunction=function(a){"function"==typeof a&&a()}; var Loader=function(){var a=function(){},d=[],f=function(b){var e=document.getElementsByTagName("head");if(e&&e[0]){var c=document.createElement("script"),g=document.createTextNode(b);c.type="text/javascript";try{c.appendChild(g)}catch(h){c.text=b}e[0].appendChild(c)}return this},i=function(b,e,c){var g=new Request;if(typeof e=="undefined"||!e)if(data=g.getSync(b)){f(data);"function"==typeof c&&c();return true}else return false;else{g.getAsync(b,function(h){f(h);"function"==typeof c&&c()});return true}}; a.prototype.include=function(b,e,c){d[b]=new LoaderStatus(c);i.call(this,b,e,function(){d[b].callback()})};a.prototype.includeOnce=function(b,e,c){if("undefined"==d[b]||!d[b]){d[b]=new LoaderStatus(c);i.call(this,b,e,function(){d[b].callback()})}else d[b].completed?d[b].runFunction(c):d[b].addCallback(c)};return new a}();